import{u as w,r as p}from"./index-30a7062a.js";import{r as n}from"./request-6080a32f.js";import"./index.esm-2d42c9cb.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";import{bc as m}from"./index-756fa734.js";import{V as C,o as S,a7 as c,y as h,z as f,A as e,P as g,I as u,O as o,M as i,F as V,a0 as T,H as M,ai as P,aj as R}from"./runtime-core.esm-bundler-94adbe8c.js";import"./runtime-dom.esm-bundler-ffed9dc3.js";const d=r=>(P("data-v-a2f8cd77"),r=r(),R(),r),B={style:{width:"100%"}},D=["href"],H=["src"],N={class:"mc detail-container"},U={style:{"padding-bottom":"15px","text-align":"left"}},q={style:{"font-size":"14px","margin-right":"20px"}},z={class:"detail-content"},E={class:"detail-left"},F=["src"],j={class:"detail-right"},A={class:"big-name"},J={class:"detail-info-list"},G=d(()=>e("span",null,"Pickup time:",-1)),K=d(()=>e("span",null,"Pickup Location:",-1)),Q=d(()=>e("span",null,"Publisher：",-1)),W=d(()=>e("span",null,"Item Classification：",-1)),X=d(()=>e("i",{class:"el-icon-date"},null,-1)),Y=["innerHTML"],Z={__name:"RecruitDetail",setup(r){const _=w().getUser,v=p.currentRoute.value.query.id,t=C({data:{}}),y=()=>{n.get("/front/recruit/"+v).then(s=>{t.data=s.data})};S(()=>{y()}),n.get("/front/banner/list").then(s=>{t.rotationList=s.data,t.rotationList=t.rotationList.filter(l=>l.indexRadio==="NO")}),t.num=1;const b=()=>{if(_.id==null){p.push("/login");return}if(t.data.userId!=null&&t.data.userId==_.id){m.error("Cannot add your own products");return}n.request({url:"/front/cart/update",method:"post",data:{userId:_.id,name:t.data.name,img:t.data.img,num:t.num,price:t.data.price,bizUserId:t.data.userId,goodid:t.data.id}}).then(s=>{s.code==="200"?(m.success("Join Success"),p.push("/front/cart")):m.error(s.msg)})};return t.activeTab="content",t.userOptions=[],n.get("/front/user/list").then(s=>t.userOptions=s.data),t.categoryOptions=[],n.get("/front/category/list").then(s=>t.categoryOptions=s.data),(s,l)=>{const x=c("el-carousel-item"),I=c("el-carousel"),O=c("el-tab-pane"),k=c("el-tabs");return h(),f("div",null,[e("div",null,[e("div",B,[g(I,{interval:5e3,arrow:"always",height:"200px"},{default:u(()=>[(h(!0),f(V,null,T(t.rotationList,a=>(h(),M(x,{key:a},{default:u(()=>[e("a",{href:a.url,target:"_blank"},[e("img",{src:a.img,alt:"",style:{width:"100%",height:"100%"}},null,8,H)],8,D)]),_:2},1024))),128))]),_:1})])]),e("div",N,[e("div",U,[e("span",q,"Current location: Home> "+o(t.data.name),1)]),e("div",z,[e("div",E,[e("img",{src:t.data.img,style:{height:"420px",width:"100%"}},null,8,F)]),e("div",j,[e("div",A,o(t.data.name),1),e("div",J,[e("div",null,[G,i(o(t.data.time),1)]),e("div",null,[K,i(o(t.data.address),1)]),e("div",null,[Q,i(o(t.userOptions.find(a=>a.id===t.data.userId)?t.userOptions.find(a=>a.id===t.data.userId).name:""),1)]),e("div",null,[W,i(o(t.categoryOptions.find(a=>a.id===t.data.categoryId)?t.categoryOptions.find(a=>a.id===t.data.categoryId).name:""),1)])]),e("div",{class:"detail-btn",style:{"margin-top":"20px"}},[e("div",{onClick:b},[X,i("Claim lost property")])])])]),g(k,{modelValue:t.activeTab,"onUpdate:modelValue":l[0]||(l[0]=a=>t.activeTab=a),style:{"margin-top":"20px","min-height":"500px"}},{default:u(()=>[g(O,{label:"Lost Property",name:"content"},{default:u(()=>[e("span",{class:"markdown-body",innerHTML:t.data.content},null,8,Y)]),_:1})]),_:1},8,["modelValue"])])])}}},dt=L(Z,[["__scopeId","data-v-a2f8cd77"]]);export{dt as default};
