import{u as V,r as d,R as E}from"./index-30a7062a.js";import{r as I,c as F}from"./request-6080a32f.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";import{bc as U}from"./index-756fa734.js";import{r as h,a7 as p,y as c,z as g,A as t,O as v,u as e,P as s,I as n,M as a,H as _,L as x,K as B,ai as L,aj as A}from"./runtime-core.esm-bundler-94adbe8c.js";import"./runtime-dom.esm-bundler-ffed9dc3.js";const $=f=>(L("data-v-f0476bf9"),f=f(),A(),f),D={style:{display:"flex",height:"100px","line-height":"100px","border-bottom":"1px solid #eee"}},G={style:{flex:"2","font-size":"26px",color:"#FF9900","font-weight":"bold","margin-left":"180px"}},H={style:{flex:"2"}},P={key:0,style:{flex:"3","font-size":"16px",color:"#FF9900"}},q={key:1,style:{flex:"3","font-size":"16px",color:"#FF9900","margin-left":"180px"}},K={style:{display:"flex",height:"60px","line-height":"60px","border-bottom":"1px solid #eee","background-color":"#FF9900"}},O=$(()=>t("div",{style:{width:"200px",display:"flex","padding-left":"30px"}},null,-1)),T={style:{flex:"1",display:"flex"}},J={style:{width:"100%",margin:"0 auto","min-height":"600px"}},Q={style:{height:"100px","line-height":"100px","border-top":"1px solid rgba(208,208,208,0.08)","text-align":"center","background-color":"#FF9900",color:"#FFFFFF"}},W={__name:"Front",setup(f){const y=V();let o=y.getUser;const b=d.currentRoute.value.path,m=h("");m.value=d.currentRoute.value.query.name||"";const k=h();h([]);const C=()=>{I.get("/logout/"+o.uid).then(u=>{u.code==="200"?(y.logout(),window.location.href="/front"):U.error(u.msg)})},w=u=>{o.avatar=u},R=()=>{d.push("/front/recruit?name="+m.value)};return(u,l)=>{const j=p("el-input"),z=p("el-button"),M=p("el-avatar"),r=p("el-menu-item"),S=p("el-menu");return c(),g("div",null,[t("div",D,[t("div",G,v(e(F).projectName),1),t("div",H,[s(j,{style:{width:"250px"},placeholder:"Search lost and found information",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=i=>m.value=i),clearable:"",size:"large"},null,8,["modelValue"]),s(z,{style:{"margin-left":"5px","background-color":"#FF9900",color:"#FFFFFF"},onClick:R,size:"large"},{default:n(()=>[a("search")]),_:1})]),e(o).id?(c(),g("div",P,[s(M,{size:30,src:e(o).avatar,style:{"margin-top":"10px"}},null,8,["src"]),a(" Helloï¼Œ"+v(e(o).name)+" ",1),t("a",{href:"javascript:void(0)",onClick:l[1]||(l[1]=i=>e(d).push("/person")),class:"loginCls"},"Modification information"),t("a",{href:"javascript:void(0)",onClick:l[2]||(l[2]=i=>e(d).push("/password")),class:"loginCls"},"Change password"),t("a",{href:"javascript:void(0)",onClick:C,class:"loginCls"},"Log out")])):(c(),g("div",q,[t("a",{href:"javascript:void(0)",onClick:l[3]||(l[3]=i=>e(d).push("/login")),class:"loginCls"},"Log in"),t("a",{href:"javascript:void(0)",onClick:l[4]||(l[4]=i=>e(d).push("/register-member")),class:"loginCls"},"User Registration")]))]),t("div",K,[O,t("div",T,[s(S,{"default-active":e(b),mode:"horizontal",router:"",style:{border:"none",height:"100%",width:"100%","background-color":"#FF9900"}},{default:n(()=>[s(r,{index:"/front/home"},{default:n(()=>[a("Front page")]),_:1}),s(r,{index:"/front/notice"},{default:n(()=>[a("System Announcement")]),_:1}),s(r,{index:"/front/recruit"},{default:n(()=>[a("Lost and Found Information")]),_:1}),s(r,{index:"/front/lost"},{default:n(()=>[a("Lost property information")]),_:1}),s(r,{index:"/front/orders"},{default:n(()=>[a("Lost and found records")]),_:1}),e(o).id!=null&&e(o).role=="MEMBER"?(c(),_(r,{key:0,index:"/recruit"},{default:n(()=>[a("Post a lost and found")]),_:1})):x("",!0),e(o).id!=null&&e(o).role=="MEMBER"?(c(),_(r,{key:1,index:"/lost"},{default:n(()=>[a("Report a lost item")]),_:1})):x("",!0),e(o).id!=null&&e(o).role=="ADMIN"?(c(),_(r,{key:2,index:"/home"},{default:n(()=>[a("Enter the backend management")]),_:1})):x("",!0)]),_:1},8,["default-active"])])]),t("div",J,[s(e(E),null,{default:n(({Component:i})=>[(c(),_(B(i),{onGetAvatar:w,onGetUnread:u.getUnRead,ref_key:"childRef",ref:k},null,40,["onGetUnread"]))]),_:1})]),t("div",Q,[t("span",null,v(e(F).projectName),1)])])}}},ne=N(W,[["__scopeId","data-v-f0476bf9"]]);export{ne as default};
