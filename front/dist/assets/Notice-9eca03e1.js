import{u as B,r as h}from"./index-30a7062a.js";import{r as y}from"./request-6080a32f.js";import"./index.esm-2d42c9cb.js";import{r as d,V as O,a7 as r,y as m,z as x,A as a,P as o,I as l,F as U,a0 as A,H as D,M as g,O as H,L as q,u as M}from"./runtime-core.esm-bundler-94adbe8c.js";const R={style:{width:"100%"}},T=["href"],$=["src"],Q={style:{width:"85%",margin:"0 auto","margin-bottom":"50px"}},E=a("div",{style:{"padding-bottom":"15px","margin-top":"20px","text-align":"left"}},[a("span",{style:{"font-size":"14px","margin-right":"20px"}},"Current location: Home> System Announcement")],-1),I={style:{"padding-bottom":"15px","border-bottom":"3px solid #FF9900","text-align":"left",display:"flex"}},P=a("span",{style:{"font-weight":"bold","font-size":"24px",float:"left",flex:"3",color:"#FF9900"}},"System Announcement",-1),j={style:{"margin-top":"10px",float:"right",flex:"1"}},G={key:0},J={class:"page"},W=["innerHTML"],X={class:"dialog-footer"},ne={__name:"Notice",setup(Y){B().getUser;const f=d(1),v=d(5),b=d(0),w=d(""),c=d(!1),k=s=>{c.value=!0,w.value=s};h.currentRoute.value.query.id;let C=h.currentRoute.value.query.name;const t=O({tableData:[]});t.searchKey="";const p=()=>{t.searchKey!=null&&t.searchKey!=""&&(C=t.searchKey),y.get("/front/notice/page",{params:{name:C,pageNum:f.value,pageSize:v.value}}).then(s=>{t.tableData=s.data.records,b.value=s.data.total})};p(),y.get("/front/banner/list").then(s=>{t.rotationList=s.data,t.rotationList=t.rotationList.filter(n=>n.indexRadio==="NO")}),t.userOptions=[],y.get("/front/user/list").then(s=>t.userOptions=s.data),t.searchKey="";const z=()=>{p()};return(s,n)=>{const S=r("el-carousel-item"),V=r("el-carousel"),N=r("el-input"),_=r("el-button"),i=r("el-table-column"),L=r("el-table"),F=r("el-pagination"),K=r("el-dialog");return m(),x("div",null,[a("div",null,[a("div",R,[o(V,{interval:5e3,arrow:"always",height:"200px"},{default:l(()=>[(m(!0),x(U,null,A(t.rotationList,e=>(m(),D(S,{key:e},{default:l(()=>[a("a",{href:e.url,target:"_blank"},[a("img",{src:e.img,alt:"",style:{width:"100%",height:"100%"}},null,8,$)],8,T)]),_:2},1024))),128))]),_:1})])]),a("div",Q,[E,a("div",I,[P,a("div",j,[o(N,{style:{width:"200px"},placeholder:"QuerySystem Announcement",modelValue:t.searchKey,"onUpdate:modelValue":n[0]||(n[0]=e=>t.searchKey=e),clearable:""},null,8,["modelValue"]),o(_,{style:{"margin-left":"5px"},onClick:z,size:"large"},{default:l(()=>[g("Query")]),_:1})])]),o(L,{data:t.tableData,style:{width:"100%","margin-top":"20px"},stripe:"",border:"","header-cell-class-name":"headerBg"},{default:l(()=>[o(i,{prop:"id",label:"number"}),o(i,{prop:"name",label:"name"}),o(i,{label:"content"},{default:l(e=>[o(_,{onClick:u=>k(e.row.content)},{default:l(()=>[g("Check")]),_:2},1032,["onClick"])]),_:1}),o(i,{label:"Founder"},{default:l(e=>[e.row.user_id?(m(),x("span",G,H(t.userOptions.find(u=>u.id===e.row.user_id)?t.userOptions.find(u=>u.id===e.row.user_id).name:""),1)):q("",!0)]),_:1}),o(i,{label:"operate"},{default:l(e=>[o(_,{type:"primary",size:"small",onClick:u=>M(h).push("/front/notice-detail?id="+e.row.id)},{default:l(()=>[g("Check")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a("div",J,[o(F,{"prev-text":"previous","next-text":"next",onCurrentChange:p,onSizeChange:p,"current-page":f.value,"onUpdate:current-page":n[1]||(n[1]=e=>f.value=e),"page-size":v.value,"onUpdate:page-size":n[2]||(n[2]=e=>v.value=e),"page-sizes":[4,8,12,16],layout:"prev, pager, next",total:b.value},null,8,["current-page","page-size","total"])]),o(K,{modelValue:c.value,"onUpdate:modelValue":n[4]||(n[4]=e=>c.value=e),title:"Browse content",width:"40%"},{footer:l(()=>[a("span",X,[o(_,{onClick:n[3]||(n[3]=e=>c.value=!1)},{default:l(()=>[g("closure")]),_:1})])]),default:l(()=>[a("div",{id:"editor-content-view",class:"editor-content-view",innerHTML:w.value,style:{padding:"0 20px"}},null,8,W)]),_:1},8,["modelValue"])])])}}};export{ne as default};
