import{u as B,r as u,R}from"./index-30a7062a.js";import{r as S}from"./request-6080a32f.js";import{bc as V}from"./index-756fa734.js";import{a7 as p,y as t,z as a,A as o,O as _,u as l,P as m,I as s,F as k,a0 as F,H as n,K as h,L as d}from"./runtime-core.esm-bundler-94adbe8c.js";import"./runtime-dom.esm-bundler-ffed9dc3.js";const A={style:{height:"60px","line-height":"60px","border-bottom":"1px solid #ccc","background-color":"#FF9900"}},E={style:{display:"flex"}},N=o("div",{style:{width:"300px",color:"#FFFFFF","font-weight":"bold","text-align":"center","font-size":"20px"}}," Lost and Found System ",-1),P={style:{flex:"1",display:"flex"}},$=o("div",{style:{flex:"1"}},null,-1),z={style:{width:"500px","text-align":"right","padding-right":"20px"}},D={style:{"margin-right":"5px",color:"#FFFFFF"}},H={style:{display:"flex"}},M={style:{width:"230px","min-height":"calc(100vh - 60px)","border-right":"1px solid #ccc","background-color":"#FF9900"}},U={key:0},q={key:1},G={style:{flex:"1",padding:"10px"}},X={__name:"Layout",setup(K){const f=B();let v=f.getUser;const C=u.currentRoute.value.path.replace("/",""),w=()=>{S.get("/logout/"+v.uid).then(c=>{c.code==="200"?f.logout():V.error(c.msg)})},x=f.getMenus,b=c=>{v.avatar=c};return(c,i)=>{const y=p("el-icon"),g=p("el-menu-item"),L=p("el-sub-menu"),j=p("el-menu");return t(),a("div",null,[o("div",A,[o("div",E,[N,o("div",P,[$,o("div",z,[o("span",D,"Welcome back,"+_(l(v).name),1),o("a",{href:"javascript:void(0)",onClick:i[0]||(i[0]=e=>l(u).push("/front/home")),class:"infoCls"},"Enter front desk"),o("a",{href:"javascript:void(0)",onClick:i[1]||(i[1]=e=>l(u).push("/person")),class:"infoCls"},"Personal"),o("a",{href:"javascript:void(0)",onClick:i[2]||(i[2]=e=>l(u).push("/password")),class:"infoCls"},"Change"),o("a",{href:"javascript:void(0)",onClick:w,class:"infoCls"},"Logout")])])])]),o("div",H,[o("div",M,[m(j,{"default-active":l(C),"default-openeds":l(x).map(e=>e.id+""),class:"el-menu-demo",style:{border:"none"},router:""},{default:s(()=>[(t(!0),a(k,null,F(l(x),e=>(t(),a("div",{key:e.id},[e.type===2?(t(),a("div",U,[e.hide?d("",!0):(t(),n(g,{key:0,index:e.path},{default:s(()=>[e.icon?(t(),n(y,{key:0},{default:s(()=>[(t(),n(h(e.icon)))]),_:2},1024)):d("",!0),o("span",null,_(e.name),1)]),_:2},1032,["index"]))])):(t(),a("div",q,[e.hide?d("",!0):(t(),n(L,{key:0,index:e.id+""},{title:s(()=>[e.icon?(t(),n(y,{key:0},{default:s(()=>[(t(),n(h(e.icon)))]),_:2},1024)):d("",!0),o("span",null,_(e.name),1)]),default:s(()=>[(t(!0),a(k,null,F(e.children,r=>(t(),a("div",{key:r.id},[r.hide?d("",!0):(t(),n(g,{key:0,index:r.path},{title:s(()=>[r.icon?(t(),n(y,{key:0},{default:s(()=>[(t(),n(h(r.icon)))]),_:2},1024)):d("",!0),o("span",null,_(r.name),1)]),_:2},1032,["index"]))]))),128))]),_:2},1032,["index"]))]))]))),128))]),_:1},8,["default-active","default-openeds"])]),o("div",G,[m(l(R),null,{default:s(({Component:e})=>[(t(),n(h(e),{onGetAvatar:b,ref:"childRef"},null,544))]),_:1})])])])}}};export{X as default};
